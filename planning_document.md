# ClassStock 앱 기획서 (현행 버전 기준)

## 1. 개요 (Overview)

본 문서는 학급용 모의투자 웹 애플리케이션 'ClassStock'의 현재 구현된 기능과 구조를 설명하는 기획 문서입니다. 'ClassStock'은 교사가 가상의 학급을 개설하고 학생들을 초대하여, 정해진 기간과 자본금으로 모의 주식 투자를 체험하게 하는 금융 교육 도구입니다.

- **Target Users**: 초·중·고등학교 교사 및 학생
- **Core Goal**: 통제된 가상 환경에서 학생들이 주식 투자의 기본 원리를 학습하고 금융 리터러시(Financial Literacy)를 향상시키는 것.
- **Technical Note**: 현재 버전은 데모(Demo) 상태로, 모든 데이터(학급, 학생, 거래 내역 등)는 사용자의 브라우저 세션 중에만 유지되며, 페이지를 새로고침하면 초기화됩니다. 단, 주가 데이터는 마지막 접속 시간을 기준으로 시뮬레이션됩니다.

---

## 2. 주요 기능 상세 (Detailed Features)

'ClassStock'은 크게 '교사'와 '학생' 두 가지 사용자 역할을 가지며, 각 역할에 맞는 대시보드와 기능을 제공합니다.

### 2.1. 교사 (Teacher)

#### 2.1.1. 시작 및 학급 생성
- **교사 로그인**: 메인 화면에서 '교사용 시작하기'를 통해 교사 대시보드로 진입합니다. (현재는 별도 인증 절차 없음)
- **학급 생성**:
  - 학급 이름, 활동 시작일 및 종료일, 학생에게 지급될 초기 시드머니를 설정하여 새 학급을 생성할 수 있습니다.
  - 여러 개의 학급을 생성하고 관리할 수 있습니다.

#### 2.1.2. 교사 대시보드
- 생성된 모든 학급의 목록을 카드 형태로 보여줍니다. 각 카드에는 학급명, 기간, 초기 시드머니 정보가 표시됩니다.
- '학급 관리' 버튼을 통해 각 학급의 상세 관리 페이지로 이동합니다.

#### 2.1.3. 학급 상세 관리 (탭 인터페이스)
- **기본 정보**:
  - 학급의 기본 정보(기간, 시드머니)를 표시합니다.
  - 학생 초대를 위한 **'학급 참여 코드'**가 자동으로 생성되며, 복사하기 기능을 제공합니다.
- **학생 관리**:
  - 해당 학급에 참여한 모든 학생의 목록과 총자산을 보여줍니다.
  - **보너스 지급**: 학생들을 개별적 또는 전체 선택하여 '보너스'를 지급할 수 있습니다. 지급 시 금액과 사유를 입력할 수 있으며, 이 내역은 학생의 거래 내역에 기록됩니다.
  - **포트폴리오 조회**: 특정 학생을 클릭하면 해당 학생의 상세 포트폴리오(총자산, 보유 현금, 주식 평가액, 보유 주식 목록)를 모달 창으로 확인할 수 있습니다.
- **종목 관리**:
  - 모의투자에 사용될 주식 종목을 관리합니다.
  - 기본 제공되는 주식 목록에서 종목명 또는 코드로 검색하여 학급에서 거래할 종목을 최대 10개까지 추가하거나 제거할 수 있습니다.
- **랭킹 보드**:
  - 학급 내 모든 학생들의 총자산을 기준으로 한 실시간 순위를 보여줍니다.

### 2.2. 학생 (Student)

#### 2.2.1. 학급 참여 및 로그인
- **학급 참여**: 메인 화면에서 '학생용 참여하기'를 통해 참여/로그인 모달을 엽니다.
  - 교사에게 받은 '학급 참여 코드'와 사용할 아이디(닉네임), 비밀번호를 입력하여 학급에 처음으로 참여합니다.
- **로그인**: 이미 참여한 학생은 동일한 모달에서 참여 코드, 아이디, 비밀번호를 입력하여 다시 로그인할 수 있습니다.

#### 2.2.2. 학생 대시보드 (탭 인터페이스)
- **자산 요약**: 대시보드 상단에 자신의 총자산, 보유 현금, 주식 평가액이 요약되어 표시됩니다.
- **포트폴리오**:
  - 현재 보유 중인 주식 목록을 보여줍니다.
  - 각 주식별로 종목명, 현재가, 보유 수량, 평균 매입 단가, 평가 손익 및 수익률이 상세하게 표시됩니다.
  - 각 주식 항목에서 바로 '매도'를 진행할 수 있습니다.
- **마켓**:
  - 교사가 '종목 관리'에서 허용한 주식들의 목록을 보여줍니다.
  - 각 종목의 이름, 코드, 현재가를 확인할 수 있으며, '매수' 버튼을 통해 주식을 구매할 수 있습니다.
- **거래 내역**:
  - 자신의 모든 거래 기록을 시간순으로 조회할 수 있습니다.
  - 매수, 매도 내역뿐만 아니라, 교사로부터 받은 보너스 지급 내역과 사유도 함께 표시됩니다.
- **랭킹**:
  - 자신이 속한 학급의 전체 학생 랭킹을 확인할 수 있습니다.

---

## 3. 핵심 로직 (Core Logic)

- **주가 변동 시뮬레이션**:
  - 실제 주식 API를 사용하지 않고, 미리 정의된 목 데이터(mock data)를 기반으로 합니다.
  - 사용자가 앱에 접속할 때, 로컬 저장소에 기록된 마지막 접속 시간을 확인합니다.
  - 마지막 접속 시간으로부터 한국 시간(KST) 기준 오후 4시가 지난 일수만큼 주가 변동을 시뮬레이션합니다. (하루에 한 번, 랜덤한 등락률 적용)
- **주식 거래**:
  - **매수**: 학생의 보유 현금 내에서만 주문이 가능합니다.
  - **매도**: 학생이 보유한 주식 수량 내에서만 주문이 가능합니다.
  - **수수료**: 모든 매수/매도 거래 시, 거래 금액의 0.1%가 수수료로 자동 차감/적용됩니다.
- **자산 계산**:
  - **총자산** = (보유 현금) + (보유한 모든 주식의 현재가 * 수량의 총합)

---

## 4. 사용자 플로우 (User Flow)

### 4.1. 교사 플로우
1.  **서비스 접속**: 랜딩 페이지에서 '교사용 시작하기'를 선택하여 대시보드로 이동.
2.  **학급 생성**: 대시보드에서 '새 학급 만들기' 버튼 클릭 후, 학급 정보(이름, 기간, 시드머니) 입력 및 생성.
3.  **학생 초대**: 생성된 학급의 '학급 참여 코드'를 복사하여 학생들에게 공지.
4.  **학급 운영**: '학급 상세 관리' 페이지에서 투자 가능 종목을 설정하고, 학생들의 투자 현황을 모니터링.
5.  **피드백 및 독려**: 랭킹을 확인하고, 과제 보상 등의 명목으로 학생들에게 보너스를 지급하며 학습 참여를 독려.
6.  **활동 종료**: 설정된 기간이 종료되면 최종 랭킹을 확인하고 교육적 피드백 제공.

### 4.2. 학생 플로우
1.  **서비스 접속**: 랜딩 페이지에서 '학생용 참여하기' 선택.
2.  **학급 참여**: 교사에게 받은 참여 코드와 자신의 프로필(아이디, 비밀번호)을 입력하여 학급에 참여.
3.  **자산 확인**: 대시보드에서 지급된 초기 시드머니와 자산 현황 확인.
4.  **투자 활동**:
    - '마켓' 탭에서 교사가 설정한 종목들을 탐색하고 주식 매수.
    - '포트폴리오' 탭에서 자신의 자산 변화와 수익률을 확인하고, 필요시 주식 매도.
5.  **활동 복기**: '거래 내역'을 보며 자신의 투자 결정을 복기.
6.  **순위 확인**: '랭킹' 탭을 통해 다른 친구들과 자신의 순위를 비교하며 학습.